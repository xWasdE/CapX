<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Risk Yönetimi (Hedge) - Neon Glass - AdelinSoftware</title>
  <meta name="description" content="Neon glass tarzında Risk Yönetimi (Hedge) hesaplayıcı — anlık senaryo simülasyonu." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
  <meta name="theme-color" content="#071018">

  <style>
  :root{
    --bg-900:#04060a;
    --bg-800:#071018;
    --card: rgba(12,14,20,0.55);
    --glass-border: rgba(255,255,255,0.06);
    --neon-a: #30c1ff; /* azure neon */
    --neon-b: #00e0b8; /* teal neon */
    --neon-glow: rgba(48,193,255,0.16);
    --accent-gradient: linear-gradient(90deg,var(--neon-a),var(--neon-b));
    --text: #e6eef6;
    --muted: #9aa6b3;
    --success: #28a745;
    --danger: #ff6b6b;
    --glass-blur: 12px;
    --radius: 14px;
    --mono: 'Source Code Pro', monospace;
    font-synthesis: none;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:
      radial-gradient(800px 600px at 10% 20%, rgba(48,193,255,0.04), transparent 10%),
      radial-gradient(700px 500px at 85% 80%, rgba(0,224,184,0.03), transparent 8%),
      linear-gradient(180deg,var(--bg-900),var(--bg-800));
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:48px 20px;
    min-height:100vh;
    gap:28px;
  }

  /* subtle moving particles */
  .stars {
    position:fixed; inset:0; z-index:0; pointer-events:none;
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255,255,255,0.09) 1px, transparent 1px),
      radial-gradient(circle at 80% 90%, rgba(255,255,255,0.07) 1px, transparent 1px),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,0.04) 1px, transparent 1px);
    background-size: 220px 220px, 330px 330px, 440px 440px;
    opacity:0.14; mix-blend-mode:screen; animation: drift 220s linear infinite;
  }
  @keyframes drift { from{background-position:0 0} to{background-position:10000px 5000px} }

  .frame {
    position:relative;
    width:100%;
    max-width:960px;
    z-index:2;
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:28px;
    align-items:start;
  }

  /* header / logo */
  header.app-header{
    grid-column:1 / -1;
    display:flex;
    align-items:center;
    gap:18px;
    padding:18px;
    border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 6px 40px rgba(0,0,0,0.6), 0 0 40px rgba(48,193,255,0.02) inset;
    backdrop-filter: blur(6px) saturate(140%);
  }

  .logo {
    min-width:64px; min-height:64px;
    display:flex; align-items:center; justify-content:center;
    border-radius:12px;
    background: linear-gradient(140deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 6px 30px rgba(0,0,0,0.5);
  }

  /* inline SVG brand mark */
  .logo svg { width:44px; height:44px; filter: drop-shadow(0 6px 18px rgba(48,193,255,0.08)); }

  .title {
    display:flex; flex-direction:column;
  }
  .title h1 { margin:0; font-size:1.35rem; letter-spacing:-0.4px; font-weight:800; color:var(--text); }
  .title p { margin:3px 0 0; color:var(--muted); font-size:0.92rem; }

  /* small controls right */
  .controls { margin-left:auto; display:flex; gap:8px; align-items:center; }

  .icon-btn {
    border: none; background:transparent; color:var(--muted); padding:10px; border-radius:10px; cursor:pointer;
    transition: all .18s ease; display:inline-flex; align-items:center; justify-content:center;
  }
  .icon-btn:hover { color:var(--text); transform:translateY(-3px) }
  .theme-dot {
    width:12px;height:12px;border-radius:50%; box-shadow: 0 0 12px var(--neon-glow), 0 0 30px rgba(0,0,0,0.2);
    background: linear-gradient(180deg,var(--neon-a),var(--neon-b));
    border: 1px solid rgba(255,255,255,0.08);
  }

  /* cards */
  .glass {
    background: var(--card);
    border-radius: var(--radius);
    border: 1px solid var(--glass-border);
    box-shadow: 0 10px 40px rgba(3,6,12,0.6), 0 0 40px rgba(48,193,255,0.03) inset;
    padding:18px;
    backdrop-filter: blur(var(--glass-blur)) saturate(140%);
    transition: transform .25s cubic-bezier(.2,.9,.25,1), box-shadow .25s;
  }
  .glass:hover { transform: translateY(-6px); box-shadow: 0 20px 60px rgba(3,6,12,0.7), 0 0 60px rgba(48,193,255,0.06) inset; }

  /* form layout */
  .left {
    display:flex; flex-direction:column; gap:20px;
  }

  .calculator {
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:18px;
  }

  .card {
    padding:18px;
    border-radius:12px;
    position:relative;
    overflow:visible;
  }

  .card .card-head {
    display:flex; align-items:center; gap:12px; margin-bottom:12px;
  }
  .card h3 { margin:0; font-size:1rem; font-weight:700; color:var(--text) }
  .card p.lead { margin:0; color:var(--muted); font-size:0.9rem }

  label { display:block; font-size:0.88rem; color:var(--muted); margin-bottom:8px; font-weight:600 }

  input[type=number], input[type=text]{
    width:100%;
    padding:12px 14px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.04);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    color:var(--text);
    font-size:1rem;
    outline:none;
    transition:box-shadow .12s, border-color .12s;
  }
  input[type=number]:focus { border-color: rgba(48,193,255,0.65); box-shadow: 0 6px 28px rgba(48,193,255,0.06); }

  .info-box{
    background: linear-gradient(180deg, rgba(48,193,255,0.03), rgba(0,224,184,0.02));
    border-radius:8px;
    border:1px solid rgba(48,193,255,0.06);
    padding:12px 14px;
    display:flex; justify-content:space-between; align-items:center; color:var(--neon-b); font-weight:700;
  }

  /* slider */
  .slider-wrap { display:flex; gap:12px; align-items:center; }
  .slider {
    -webkit-appearance:none; height:8px; width:100%; border-radius:8px; background:rgba(255,255,255,0.03); outline:none;
    border:1px solid rgba(255,255,255,0.02);
  }
  .slider::-webkit-slider-thumb { -webkit-appearance:none; width:18px; height:18px; border-radius:50%; border:3px solid var(--bg-800); background: linear-gradient(180deg,var(--neon-a),var(--neon-b)); box-shadow:0 8px 30px rgba(48,193,255,0.12) }
  .slider-value { min-width:90px; text-align:center; font-family:var(--mono); font-weight:700; color:var(--neon-b); background:transparent }

  /* action buttons */
  .actions { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .btn {
    padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700;
    background:var(--accent-gradient); color:#071018; box-shadow: 0 8px 30px rgba(0,0,0,0.45), 0 0 40px rgba(48,193,255,0.06);
    transition: transform .12s, box-shadow .12s;
  }
  .btn:hover { transform:translateY(-3px) }
  .btn.ghost {
    background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--muted); box-shadow:none;
  }

  /* right column results card */
  .right{
    display:flex; flex-direction:column; gap:18px;
  }

  .results {
    padding:20px;
    border-radius:12px;
  }

  .summary {
    padding:12px; border-radius:10px; text-align:center; font-weight:700;
    background: linear-gradient(180deg, rgba(48,193,255,0.03), rgba(0,224,184,0.02));
    border:1px solid rgba(48,193,255,0.06);
    color:var(--neon-b);
  }

  .grid {
    display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px;
  }
  .scenario {
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border-radius:10px; padding:12px; border:1px solid rgba(255,255,255,0.03);
  }
  .scenario h4 { margin:0 0 8px; font-size:0.95rem; color:var(--text) }
  .row { display:flex; justify-content:space-between; align-items:center; gap:10px; margin:8px 0; color:var(--muted) }
  .value { font-weight:800; font-family:var(--mono); color:var(--text); font-size:1.02rem }

  .value.profit { color:var(--success) }
  .value.loss { color:var(--danger) }

  .total {
    margin-top:14px; text-align:center; color:var(--muted);
  }

  /* neon outline accents */
  .neon-edge {
    pointer-events:none;
    position:absolute; inset:-1px;
    border-radius:inherit;
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* responsive */
  @media (max-width:980px){
    .frame { grid-template-columns: 1fr; padding-bottom:16px }
    .calculator { grid-template-columns: 1fr; }
    .grid { grid-template-columns: 1fr; }
    .right{ order:2 }
    header.app-header{ flex-wrap:wrap; gap:12px }
  }

  /* small utilities */
  .muted { color:var(--muted) }
  .small { font-size:0.85rem }
  </style>
</head>
<body>
  <div class="stars" aria-hidden="true"></div>

  <main class="frame" role="main" aria-labelledby="app-title">
    <header class="app-header glass" role="banner">
      <div class="logo" aria-hidden="true">
        <!-- simple neon SVG mark -->
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#30c1ff"/>
              <stop offset="1" stop-color="#00e0b8"/>
            </linearGradient>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="4" result="b"/>
              <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
            </filter>
          </defs>
          <g filter="url(#glow)">
            <rect x="6" y="10" width="52" height="44" rx="10" fill="none" stroke="url(#g1)" stroke-width="3"/>
            <path d="M18 40 L26 24 L34 40 L42 24" fill="none" stroke="url(#g1)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
          </g>
        </svg>
      </div>

      <div class="title">
        <h1 id="app-title">Risk Yönetimi Hesaplayıcı</h1>
        <p class="lead">Neon glass teması — senaryoları dengeleyin, riski yönetin.</p>
      </div>

      <div class="controls" role="toolbar" aria-label="Araçlar">
        <button id="reset-btn" class="icon-btn" title="Sıfırla">
          <i class="fas fa-rotate-left"></i>
        </button>
        <button id="theme-btn" class="icon-btn" title="Tema">
          <span class="theme-dot" aria-hidden="true"></span>
        </button>
      </div>
    </header>

    <section class="left">
      <div class="glass card calculator" aria-labelledby="main-odds-label">
        <!-- Main odds -->
        <div class="card">
          <div class="card-head">
            <i class="fas fa-chart-line" style="color:var(--neon-b)"></i>
            <div>
              <h3>Ana Olasılık Bilgileri</h3>
              <p class="lead small muted">Ana senaryo ve yatırılan tutar</p>
            </div>
          </div>

          <label id="main-odds-label" for="main-odds">Olasılık Oranı (çarpan)</label>
          <input id="main-odds" type="number" min="0" step="0.01" placeholder="Örn: 2.5 (yani 2.5x)" aria-describedby="main-odds-help">
          <div id="main-odds-help" class="muted small">1.0'dan büyük değer girin (ör. 2.5)</div>

          <label for="main-stake" style="margin-top:12px">Yatırım Tutarı (₺)</label>
          <input id="main-stake" type="number" min="0" step="0.01" placeholder="Örn: 1000" aria-label="Ana yatırım tutarı">

          <div class="info-box" style="margin-top:12px">
            <span class="small muted">Potansiyel Getiri</span>
            <span id="potential-payout" class="mono value">0.00 ₺</span>
          </div>
        </div>

        <!-- Hedge card -->
        <div class="card">
          <div class="card-head">
            <i class="fas fa-shield-alt" style="color:var(--neon-a)"></i>
            <div>
              <h3>Dengeleyici İşlem</h3>
              <p class="lead small muted">Koruma (hedge) için oran ve tutar</p>
            </div>
          </div>

          <label for="hedge-odds">Dengeleme Oranı (çarpan)</label>
          <input id="hedge-odds" type="number" min="0" step="0.01" placeholder="Örn: 1.8">

          <label for="hedge-stake" style="margin-top:12px">Dengeleme Tutarı (₺)</label>
          <input id="hedge-stake" type="number" min="0" step="0.01" placeholder="Ne kadar yatırılacak? (slider ile ayarla)">
          
          <div class="slider-wrap" style="margin-top:8px">
            <input id="hedge-stake-slider" class="slider" type="range" min="0" max="5000" step="10" value="0" aria-label="Dengeleme tutarı kaydırıcı">
            <div id="slider-value" class="slider-value">₺0</div>
          </div>

          <div style="margin-top:14px; border-top:1px dashed rgba(255,255,255,0.03); padding-top:12px; display:flex; gap:10px; align-items:center; justify-content:space-between;">
            <div style="flex:1">
              <label for="target-profit" class="small muted">Hedef Net Kâr</label>
              <input id="target-profit" type="number" value="1000" min="0" step="1" style="width:100%; padding:8px 10px; border-radius:8px; font-weight:700;">
            </div>
            <div style="display:flex;flex-direction:column;gap:8px;margin-left:8px">
              <button id="go-to-target-btn" class="btn" title="Hedeflenen kârı garantilemek için gereken tutarı hesapla"><i class="fas fa-flag-checkered"></i> Hedefe Git</button>
              <button id="calc-btn" class="btn ghost" style="min-width:120px">Hesapla</button>
            </div>
          </div>
        </div>
      </div>

      <!-- help / tips -->
      <div class="glass card" style="margin-top:6px">
        <h3 style="margin-bottom:8px">İpuçları</h3>
        <p class="muted small" style="line-height:1.5">
          • Olasılık oranlarını çarpan şeklinde girin (ör: 2.5).<br>
          • "Hedefe Git" butonu hedef net kârınızı sağlamak için gereken hedge tutarını hesaplar.<br>
          • Mobilde slider altındaki değer canlı güncellenir.
        </p>
      </div>
    </section>

    <aside class="right">
      <div class="glass card results" aria-live="polite">
        <div class="summary" id="summary-info">Değer girerek sonuçları anında görün.</div>

        <div class="grid">
          <div class="scenario">
            <h4><i class="fas fa-trophy" style="color:var(--neon-b)"></i> Ana Olasılık Gerçekleşirse</h4>
            <div class="row"><div class="muted">Net Sonuç</div><div id="profit-main-wins" class="value">0.00 ₺</div></div>
            <div class="row"><div class="muted">Getiri Oranı (ROI)</div><div id="roi-main-wins" class="value">0.00%</div></div>
          </div>

          <div class="scenario">
            <h4><i class="fas fa-handshake" style="color:var(--neon-a)"></i> Dengeleme Başarılı Olursa</h4>
            <div class="row"><div class="muted">Net Sonuç</div><div id="profit-hedge-wins" class="value">0.00 ₺</div></div>
            <div class="row"><div class="muted">Getiri Oranı (ROI)</div><div id="roi-hedge-wins" class="value">0.00%</div></div>
          </div>
        </div>

        <div class="total small muted" style="margin-top:14px">
          Toplam Çıktı: <span id="total-spend" style="font-family:var(--mono); font-weight:800; color:var(--text)">0.00 ₺</span>
        </div>
      </div>

      <div class="glass card" style="padding:14px; text-align:center;">
        <div style="font-weight:800; color:var(--muted)">Geliştirici</div>
        <div class="muted small" style="margin-top:6px">AdelinSoftware • Neon Glass Demo</div>
        <div style="margin-top:10px">
          <a href="https://adelinsoftware.com" target="_blank" rel="noopener" class="btn ghost" style="text-decoration:none">Daha Fazla</a>
        </div>
      </div>
    </aside>
  </main>

  <script>
  (function(){
    // Elements
    const mainOdds = document.getElementById('main-odds');
    const mainStake = document.getElementById('main-stake');
    const hedgeOdds = document.getElementById('hedge-odds');
    const hedgeStake = document.getElementById('hedge-stake');
    const hedgeSlider = document.getElementById('hedge-stake-slider');
    const sliderValue = document.getElementById('slider-value');
    const targetProfit = document.getElementById('target-profit');
    const goBtn = document.getElementById('go-to-target-btn');
    const calcBtn = document.getElementById('calc-btn');
    const resetBtn = document.getElementById('reset-btn');
    const themeBtn = document.getElementById('theme-btn');

    const potentialPayoutDisplay = document.getElementById('potential-payout');
    const resultsSection = document.querySelector('.results');
    const summaryInfo = document.getElementById('summary-info');
    const totalSpendDisplay = document.getElementById('total-spend');
    const profitMainWins = document.getElementById('profit-main-wins');
    const roiMainWins = document.getElementById('roi-main-wins');
    const profitHedgeWins = document.getElementById('profit-hedge-wins');
    const roiHedgeWins = document.getElementById('roi-hedge-wins');

    // helpers
    const toFixed = (n, d=2) => Number(n).toLocaleString('tr-TR', {minimumFractionDigits:d, maximumFractionDigits:d});

    // throttle
    let schedule;
    const scheduleCalc = ()=> {
      clearTimeout(schedule);
      schedule = setTimeout(calculate, 90);
    };

    // load saved values
    const load = () => {
      try {
        const v = JSON.parse(sessionStorage.getItem('neon-hedge') || '{}');
        if (v.mainOdds) mainOdds.value = v.mainOdds;
        if (v.mainStake) mainStake.value = v.mainStake;
        if (v.hedgeOdds) hedgeOdds.value = v.hedgeOdds;
        if (v.hedgeStake) hedgeStake.value = v.hedgeStake;
        if (v.targetProfit) targetProfit.value = v.targetProfit;
        if (v.hedgeStake) {
          hedgeSlider.value = v.hedgeStake;
          sliderValue.textContent = `₺${toFixed(v.hedgeStake,0)}`;
        }
      } catch(e){}
    };
    const save = () => {
      const state = {
        mainOdds: mainOdds.value,
        mainStake: mainStake.value,
        hedgeOdds: hedgeOdds.value,
        hedgeStake: hedgeStake.value,
        targetProfit: targetProfit.value
      };
      sessionStorage.setItem('neon-hedge', JSON.stringify(state));
    };

    // events
    [mainOdds, mainStake, hedgeOdds, hedgeStake, targetProfit].forEach(el=>{
      el.addEventListener('input', scheduleCalc);
      el.addEventListener('input', save);
    });

    hedgeSlider.addEventListener('input', ()=>{
      hedgeStake.value = hedgeSlider.value;
      sliderValue.textContent = `₺${toFixed(hedgeSlider.value,0)}`;
      scheduleCalc();
      save();
    });

    hedgeStake.addEventListener('input', ()=>{
      const val = parseFloat(hedgeStake.value) || 0;
      if (val > parseFloat(hedgeSlider.max)) {
        hedgeSlider.max = Math.ceil(val * 1.5);
      }
      hedgeSlider.value = val;
      sliderValue.textContent = `₺${toFixed(val,0)}`;
      scheduleCalc();
      save();
    });

    goBtn.addEventListener('click', ()=>{
      const mStake = parseFloat(mainStake.value) || 0;
      const hOdds = parseFloat(hedgeOdds.value) || 0;
      const tProfit = parseFloat(targetProfit.value) || 0;
      if (mStake > 0 && hOdds > 1) {
        const requiredStake = (mStake + tProfit) / (hOdds - 1);
        hedgeStake.value = requiredStake.toFixed(2);
        hedgeSlider.value = Math.round(requiredStake);
        sliderValue.textContent = `₺${toFixed(requiredStake,0)}`;
        scheduleCalc();
        save();
      } else {
        // quick hint
        alert('Lütfen ana yatırım ve dengeleme oranını doğru girin (hedge oranı > 1).');
      }
    });

    calcBtn.addEventListener('click', calculate);

    resetBtn.addEventListener('click', ()=>{
      [mainOdds, mainStake, hedgeOdds, hedgeStake, targetProfit].forEach(i=> i.value = '');
      hedgeSlider.value = 0;
      sliderValue.textContent = '₺0';
      summaryInfo.textContent = 'Değer girerek sonuçları anında görün.';
      [profitMainWins, roiMainWins, profitHedgeWins, roiHedgeWins].forEach(e=> e.textContent = '0.00');
      totalSpendDisplay.textContent = '0.00 ₺';
      sessionStorage.removeItem('neon-hedge');
    });

    // simple theme toggle effect (accent pulse)
    themeBtn.addEventListener('click', ()=>{
      document.body.classList.toggle('alt-theme');
      themeBtn.animate([{transform:'rotate(0)'},{transform:'rotate(360deg)'}], {duration:450, easing:'ease-out'});
    });

    // calculation
    function calculate(){
      const mOdds = parseFloat(mainOdds.value) || 0;
      const mStake = parseFloat(mainStake.value) || 0;
      const hOdds = parseFloat(hedgeOdds.value) || 0;
      const hStake = parseFloat(hedgeStake.value) || 0;

      const potentialPayout = mOdds * mStake;
      potentialPayoutDisplay.textContent = `${toFixed(potentialPayout,2)} ₺`;

      // show/hide results depending on valid inputs
      const valid = (mOdds > 1 && mStake > 0 && hOdds > 1 && hStake >= 0);
      if (!valid) {
        summaryInfo.textContent = 'Lütfen tüm alanları doldurun (oranlar > 1).';
        profitMainWins.textContent = '0.00 ₺';
        roiMainWins.textContent = '0.00%';
        profitHedgeWins.textContent = '0.00 ₺';
        roiHedgeWins.textContent = '0.00%';
        totalSpendDisplay.textContent = '0.00 ₺';
        return;
      }

      const totalSpend = mStake + hStake;
      totalSpendDisplay.textContent = `${toFixed(totalSpend,2)} ₺`;

      const netProfitMainWins = potentialPayout - totalSpend;
      const roiMain = totalSpend > 0 ? (netProfitMainWins / totalSpend) * 100 : 0;
      updateUI(profitMainWins, netProfitMainWins, '₺');
      updateUI(roiMainWins, roiMain, '%');

      const hedgePayout = hOdds * hStake;
      const netProfitHedgeWins = hedgePayout - totalSpend;
      const roiHedge = totalSpend > 0 ? (netProfitHedgeWins / totalSpend) * 100 : 0;
      updateUI(profitHedgeWins, netProfitHedgeWins, '₺');
      updateUI(roiHedgeWins, roiHedge, '%');

      // summary
      if (netProfitMainWins >= 0 && netProfitHedgeWins >= 0) {
        summaryInfo.textContent = 'Harika! Bu dağılımla her iki senaryoda da pozitif getiri mümkün.';
      } else if (netProfitMainWins >= 0 || netProfitHedgeWins >= 0) {
        summaryInfo.textContent = 'Karışık: Bir senaryoda pozitif, diğerinde negatif getiri riski mevcut.';
      } else {
        summaryInfo.textContent = 'Dikkat: Her iki senaryoda da negatif net sonuç gözüküyor.';
      }
    }

    function updateUI(element, value, unit){
      const isPercent = unit === '%';
      const pretty = isPercent ? `${toFixed(value,2)}%` : `${toFixed(value,2)} ${unit}`;
      element.textContent = pretty;
      element.classList.remove('profit','loss');
      if (value > 0) element.classList.add('profit');
      else if (value < 0) element.classList.add('loss');
    }

    // initial load
    load();
    // initial calc
    setTimeout(calculate,120);

    // keyboard accessibility: Enter to calculate
    document.addEventListener('keydown', (e)=>{
      if (e.key === 'Enter') calculate();
    });

    // small UX: move glow with mouse (subtle)
    const frame = document.querySelector('.frame');
    document.addEventListener('mousemove', (ev)=>{
      const x = (ev.clientX / window.innerWidth - 0.5) * 40;
      const y = (ev.clientY / window.innerHeight - 0.5) * 40;
      frame.style.transform = `translate3d(${x*0.2}px, ${y*0.2}px, 0)`;
    });
  })();
  </script>
</body>
</html>
